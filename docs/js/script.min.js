$(document).ready(function(){

  function anchorScroll(boxAnchorLink){
    $(boxAnchorLink + ' a').on('click', function(e){
        e.preventDefault();
        var attr = $(this).attr('href').substring(1);
        var currentPosition = $(document).scrollTop();
        var idPosition = $('#'+attr).offset().top;
        var scrollTime = Math.abs(currentPosition - idPosition) / 4; // Math.abs - модуль числа.
        $('body,html').animate({'scrollTop':idPosition-130},scrollTime);
    });
  };

  // $('.main-nav__rooms')

  var check = $(".page-header__main-nav").is(".page-header__main-nav--rooms");

  if ( check ) {
    console.log('работает проверка');
    return;
  } else {
    anchorScroll('.page-header__main-nav');
    anchorScroll('.page-footer__nav');
  }

  

});
$(document).ready(function(){

  function bNovoIndex() {

    Bnovo_Widget.init(function(){
      Bnovo_Widget.open('_bn_widget_', {
        type: "horizontal",
        lcode: "1492614572",
        layout: "demetra",
        lang: "ru",
        width: "100%",
        background: "#ffffff",
        bg_alpha: "0",
        padding: "0",
        border_radius: "4",
        font_type: "arial",
        font_color: "#333333",
        font_size: "15",
        without_title: "on",
        title_color: "#222222",
        title_size: "18",
        inp_color: "#333333",
        inp_bordhover: "#ffffff",
        inp_bordcolor: "#ffffff",
        inp_alpha: "100",
        btn_background: "#fe8205",
        btn_background_over: "#fe9934",
        btn_textcolor: "#ffffff",
        btn_textover: "#ffffff",
        btn_bordcolor: "#fe8205",
        btn_bordhover: "#fe9934",
        btn_text: "Бронировать номер",
        arrival: "Заезд",
        departure: "Выезд",
        text_concierge: "Получи скидку через Bnovo Concierge",
        // url: "http://azart-test.kademidov.com.swtest.ru/booking.html"
      });
    });

  }

  function bNovoRoom() {
    Bnovo_Widget.init(function(){
      Bnovo_Widget.open('_bn_widget_', {
        type: "vertical",
        lcode: "1492614572",
        lang: "ru",
        width: "100%",
        background: "#ffffff",
        bg_alpha: "100",
        padding: "30",
        border_radius: "4",
        font_type: "arial",
        font_color: "#333333",
        font_size: "15",
        without_title: "on",
        title_color: "#222222",
        title_size: "18",
        inp_color: "#333333",
        inp_bordhover: "#cccccc",
        inp_bordcolor: "#cccccc",
        inp_alpha: "100",
        btn_background: "#fe8205",
        btn_background_over: "#fe9934",
        btn_textcolor: "#ffffff",
        btn_textover: "#ffffff",
        btn_bordcolor: "#fe8205",
        btn_bordhover: "#fe9934",
        btn_text: "Забронировать",
        text_concierge: "Получи скидку через Bnovo Concierge",
        adults: "2"
      });
    });

    // Bnovo_Widget.init(function(){
    //   Bnovo_Widget.open('_bn_widget_', {
    //     // type: "vertical",
    //     // lcode: "1492614572",
    //     layout: "demetra",
    //     // lang: "ru",
    //     // width: "100%",
    //     background: "#ffffff",
    //     // bg_alpha: "0",
    //     // padding: "0",
    //     // border_radius: "4",
    //     // font_type: "arial",
    //     // font_color: "#333333",
    //     // font_size: "15",
    //     without_title: "on",
    //     title_color: "#222222",
    //     title_size: "18",
    //     inp_color: "#333333",
    //     inp_bordhover: "#ffffff",
    //     inp_bordcolor: "#ffffff",
    //     inp_alpha: "100",
    //     btn_background: "#fe8205",
    //     btn_background_over: "#fe9934",
    //     btn_textcolor: "#ffffff",
    //     btn_textover: "#ffffff",
    //     btn_bordcolor: "#fe8205",
    //     btn_bordhover: "#fe9934",
    //     arrival: "Заезд",
    //     departure: "Выезд",
    //     text_concierge: "Получи скидку через Bnovo Concierge",
    //     // url: "http://azart-test.kademidov.com.swtest.ru/booking.html"
    //     adults: "2"
    //   });
    // });

  }

  var indexPromo = $('.promo');

  if ( $(indexPromo).length != 0 ){
    bNovoIndex();
  } else {
    bNovoRoom();
  }

});

$(window).on('scroll', function(e) {

  if ( $(window).scrollTop() > 170 ) {
    $('.page-header').addClass('page-header--scroll');
  } else {
    $('.page-header').removeClass('page-header--scroll');
  }

});
$(document).ready(function(){

    // if( $(window).width() > 768 ) {
    //   owlNews();
    // }

    // $( window ).resize(function() {
    //   if( $(".news__carousel").hasClass("slick-initialized") ) {
    //     console.log('init done');
    //     return;
    //   } else if ( $(window).width() > 768 ) {
    //     owlNews();
    //   }
    // });

    function owlNews() {
      $('#news-carousel').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        // arrows: false,
        fade: true,
        dots: false,

        responsive: [
          {
            breakpoint: 768,
            adaptiveHeight: true
            // settings: "unslick"
          }
        ]
      });
    }
    
    owlNews();


});
$(window).load(function() {

  function ratioPhoto(block) {
    $(block).each(function(){
      var itemWidth = $(this).width();
      var itemHeight = $(this).height();
      var itemRatio = itemHeight / itemWidth;

      var photo = $(this).find('img');
      var photoWidth = photo.width();
      var photoHeight = photo.height();
      var photoRatio = photoHeight / photoWidth;

      if ( itemRatio < photoRatio ) {
        photo.width('100%');
        photo.height('auto');
      } else if (itemRatio > photoRatio) {
        photo.height('100%');
        photo.width('auto');
      } else {
        photo.width('100%');
        photo.height('auto');
      }
    });
  }

  function ratioLetter(block) {
    $(block).each(function(){
      var itemWidth = $(this).width();
      var itemHeight = $(this).height();
      var itemRatio = itemHeight / itemWidth;

      var photo = $(this).find('img');
      var photoWidth = photo.width();
      var photoHeight = photo.height();
      var photoRatio = photoHeight / photoWidth;

      if ( itemRatio > photoRatio ) {
        photo.width('100%');
      } else if (itemRatio < photoRatio) {
        photo.height('100%');
      } else {
        photo.width('100%');
      }
    });
  }

  ratioPhoto('.offers-content__photo-box');
  ratioPhoto('.slider__item');
  // ratioPhoto('.city__photo');
  ratioPhoto('.excursion__photo');
  
  window.addEventListener("resize", function() {

    ratioPhoto('.offers-content__photo-box');
    ratioPhoto('.slider__item');
    // ratioPhoto('.city__photo');
    ratioPhoto('.excursion__photo');

  }, false);

  // $(window).resize(function(){
    

  // });

});

console.log('yep, it\'s work!');
$(document).ready(function(){
  console.log("work");

  function sliderRoomPage(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      prevArrow: id + '-box .rooms__arrow--prev',
      nextArrow: id + '-box .rooms__arrow--next',
      // fade: true,
      dots: true
    });
  
  }

  sliderRoomPage("#single");
  sliderRoomPage("#double");
  sliderRoomPage("#double-window");
  sliderRoomPage("#double-super");
  sliderRoomPage("#family");
  sliderRoomPage("#delux");

  function sliderSingleRoom(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: true,
      // fade: true,
      dots: false
    });
  
  }

  sliderSingleRoom("#rooms-slider");


  function sliderCity(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      dots: true,
      centerMode: true,
      focusOnSelect: true
    });
  
  }

  sliderCity("#city-slider");
  sliderCity("#excursion-slider");
  

});
// $(document).ready(function(){

// var WuBook= new _WuBook(1492614572);
//   var wbparams= {
//         lang: 'ru',
//         layout: '',
//         width: 1140,
//         height: 'auto',
//         mobile: 1,
//         mheight: 640
//   };
//   WuBook.design_iframe("_wbord_", wbparams);

// });
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuY2hvci5qcyIsImJub3ZvLmpzIiwiaGVhZGVyLXNjcm9sbC5qcyIsIm5ld3Mtc2xpY2suanMiLCJyYXRpby1waG90by5qcyIsInJvb21zLXNsaWNrLmpzIiwic2NyaXB0LmpzIiwic2xpY2stc2xpZGVyLmpzIiwid3Vib29rLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEVBO0FDQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gIGZ1bmN0aW9uIGFuY2hvclNjcm9sbChib3hBbmNob3JMaW5rKXtcclxuICAgICQoYm94QW5jaG9yTGluayArICcgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgYXR0ciA9ICQodGhpcykuYXR0cignaHJlZicpLnN1YnN0cmluZygxKTtcclxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgdmFyIGlkUG9zaXRpb24gPSAkKCcjJythdHRyKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgdmFyIHNjcm9sbFRpbWUgPSBNYXRoLmFicyhjdXJyZW50UG9zaXRpb24gLSBpZFBvc2l0aW9uKSAvIDQ7IC8vIE1hdGguYWJzIC0g0LzQvtC00YPQu9GMINGH0LjRgdC70LAuXHJcbiAgICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7J3Njcm9sbFRvcCc6aWRQb3NpdGlvbi0xMzB9LHNjcm9sbFRpbWUpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gJCgnLm1haW4tbmF2X19yb29tcycpXHJcblxyXG4gIHZhciBjaGVjayA9ICQoXCIucGFnZS1oZWFkZXJfX21haW4tbmF2XCIpLmlzKFwiLnBhZ2UtaGVhZGVyX19tYWluLW5hdi0tcm9vbXNcIik7XHJcblxyXG4gIGlmICggY2hlY2sgKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0YDQsNCx0L7RgtCw0LXRgiDQv9GA0L7QstC10YDQutCwJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfSBlbHNlIHtcclxuICAgIGFuY2hvclNjcm9sbCgnLnBhZ2UtaGVhZGVyX19tYWluLW5hdicpO1xyXG4gICAgYW5jaG9yU2Nyb2xsKCcucGFnZS1mb290ZXJfX25hdicpO1xyXG4gIH1cclxuXHJcbiAgXHJcblxyXG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuICBmdW5jdGlvbiBiTm92b0luZGV4KCkge1xyXG5cclxuICAgIEJub3ZvX1dpZGdldC5pbml0KGZ1bmN0aW9uKCl7XHJcbiAgICAgIEJub3ZvX1dpZGdldC5vcGVuKCdfYm5fd2lkZ2V0XycsIHtcclxuICAgICAgICB0eXBlOiBcImhvcml6b250YWxcIixcclxuICAgICAgICBsY29kZTogXCIxNDkyNjE0NTcyXCIsXHJcbiAgICAgICAgbGF5b3V0OiBcImRlbWV0cmFcIixcclxuICAgICAgICBsYW5nOiBcInJ1XCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJnX2FscGhhOiBcIjBcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIixcclxuICAgICAgICBib3JkZXJfcmFkaXVzOiBcIjRcIixcclxuICAgICAgICBmb250X3R5cGU6IFwiYXJpYWxcIixcclxuICAgICAgICBmb250X2NvbG9yOiBcIiMzMzMzMzNcIixcclxuICAgICAgICBmb250X3NpemU6IFwiMTVcIixcclxuICAgICAgICB3aXRob3V0X3RpdGxlOiBcIm9uXCIsXHJcbiAgICAgICAgdGl0bGVfY29sb3I6IFwiIzIyMjIyMlwiLFxyXG4gICAgICAgIHRpdGxlX3NpemU6IFwiMThcIixcclxuICAgICAgICBpbnBfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGlucF9ib3JkaG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGlucF9ib3JkY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGlucF9hbHBoYTogXCIxMDBcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZDogXCIjZmU4MjA1XCIsXHJcbiAgICAgICAgYnRuX2JhY2tncm91bmRfb3ZlcjogXCIjZmU5OTM0XCIsXHJcbiAgICAgICAgYnRuX3RleHRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYnRuX3RleHRvdmVyOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fYm9yZGNvbG9yOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYm9yZGhvdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dDogXCLQkdGA0L7QvdC40YDQvtCy0LDRgtGMINC90L7QvNC10YBcIixcclxuICAgICAgICBhcnJpdmFsOiBcItCX0LDQtdC30LRcIixcclxuICAgICAgICBkZXBhcnR1cmU6IFwi0JLRi9C10LfQtFwiLFxyXG4gICAgICAgIHRleHRfY29uY2llcmdlOiBcItCf0L7Qu9GD0YfQuCDRgdC60LjQtNC60YMg0YfQtdGA0LXQtyBCbm92byBDb25jaWVyZ2VcIixcclxuICAgICAgICAvLyB1cmw6IFwiaHR0cDovL2F6YXJ0LXRlc3Qua2FkZW1pZG92LmNvbS5zd3Rlc3QucnUvYm9va2luZy5odG1sXCJcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBiTm92b1Jvb20oKSB7XHJcbiAgICBCbm92b19XaWRnZXQuaW5pdChmdW5jdGlvbigpe1xyXG4gICAgICBCbm92b19XaWRnZXQub3BlbignX2JuX3dpZGdldF8nLCB7XHJcbiAgICAgICAgdHlwZTogXCJ2ZXJ0aWNhbFwiLFxyXG4gICAgICAgIGxjb2RlOiBcIjE0OTI2MTQ1NzJcIixcclxuICAgICAgICBsYW5nOiBcInJ1XCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJnX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMzBcIixcclxuICAgICAgICBib3JkZXJfcmFkaXVzOiBcIjRcIixcclxuICAgICAgICBmb250X3R5cGU6IFwiYXJpYWxcIixcclxuICAgICAgICBmb250X2NvbG9yOiBcIiMzMzMzMzNcIixcclxuICAgICAgICBmb250X3NpemU6IFwiMTVcIixcclxuICAgICAgICB3aXRob3V0X3RpdGxlOiBcIm9uXCIsXHJcbiAgICAgICAgdGl0bGVfY29sb3I6IFwiIzIyMjIyMlwiLFxyXG4gICAgICAgIHRpdGxlX3NpemU6IFwiMThcIixcclxuICAgICAgICBpbnBfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGlucF9ib3JkaG92ZXI6IFwiI2NjY2NjY1wiLFxyXG4gICAgICAgIGlucF9ib3JkY29sb3I6IFwiI2NjY2NjY1wiLFxyXG4gICAgICAgIGlucF9hbHBoYTogXCIxMDBcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZDogXCIjZmU4MjA1XCIsXHJcbiAgICAgICAgYnRuX2JhY2tncm91bmRfb3ZlcjogXCIjZmU5OTM0XCIsXHJcbiAgICAgICAgYnRuX3RleHRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYnRuX3RleHRvdmVyOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fYm9yZGNvbG9yOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYm9yZGhvdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dDogXCLQl9Cw0LHRgNC+0L3QuNGA0L7QstCw0YLRjFwiLFxyXG4gICAgICAgIHRleHRfY29uY2llcmdlOiBcItCf0L7Qu9GD0YfQuCDRgdC60LjQtNC60YMg0YfQtdGA0LXQtyBCbm92byBDb25jaWVyZ2VcIixcclxuICAgICAgICBhZHVsdHM6IFwiMlwiXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQm5vdm9fV2lkZ2V0LmluaXQoZnVuY3Rpb24oKXtcclxuICAgIC8vICAgQm5vdm9fV2lkZ2V0Lm9wZW4oJ19ibl93aWRnZXRfJywge1xyXG4gICAgLy8gICAgIC8vIHR5cGU6IFwidmVydGljYWxcIixcclxuICAgIC8vICAgICAvLyBsY29kZTogXCIxNDkyNjE0NTcyXCIsXHJcbiAgICAvLyAgICAgbGF5b3V0OiBcImRlbWV0cmFcIixcclxuICAgIC8vICAgICAvLyBsYW5nOiBcInJ1XCIsXHJcbiAgICAvLyAgICAgLy8gd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgLy8gICAgIGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLFxyXG4gICAgLy8gICAgIC8vIGJnX2FscGhhOiBcIjBcIixcclxuICAgIC8vICAgICAvLyBwYWRkaW5nOiBcIjBcIixcclxuICAgIC8vICAgICAvLyBib3JkZXJfcmFkaXVzOiBcIjRcIixcclxuICAgIC8vICAgICAvLyBmb250X3R5cGU6IFwiYXJpYWxcIixcclxuICAgIC8vICAgICAvLyBmb250X2NvbG9yOiBcIiMzMzMzMzNcIixcclxuICAgIC8vICAgICAvLyBmb250X3NpemU6IFwiMTVcIixcclxuICAgIC8vICAgICB3aXRob3V0X3RpdGxlOiBcIm9uXCIsXHJcbiAgICAvLyAgICAgdGl0bGVfY29sb3I6IFwiIzIyMjIyMlwiLFxyXG4gICAgLy8gICAgIHRpdGxlX3NpemU6IFwiMThcIixcclxuICAgIC8vICAgICBpbnBfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgLy8gICAgIGlucF9ib3JkaG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgLy8gICAgIGlucF9ib3JkY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgLy8gICAgIGlucF9hbHBoYTogXCIxMDBcIixcclxuICAgIC8vICAgICBidG5fYmFja2dyb3VuZDogXCIjZmU4MjA1XCIsXHJcbiAgICAvLyAgICAgYnRuX2JhY2tncm91bmRfb3ZlcjogXCIjZmU5OTM0XCIsXHJcbiAgICAvLyAgICAgYnRuX3RleHRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAvLyAgICAgYnRuX3RleHRvdmVyOiBcIiNmZmZmZmZcIixcclxuICAgIC8vICAgICBidG5fYm9yZGNvbG9yOiBcIiNmZTgyMDVcIixcclxuICAgIC8vICAgICBidG5fYm9yZGhvdmVyOiBcIiNmZTk5MzRcIixcclxuICAgIC8vICAgICBhcnJpdmFsOiBcItCX0LDQtdC30LRcIixcclxuICAgIC8vICAgICBkZXBhcnR1cmU6IFwi0JLRi9C10LfQtFwiLFxyXG4gICAgLy8gICAgIHRleHRfY29uY2llcmdlOiBcItCf0L7Qu9GD0YfQuCDRgdC60LjQtNC60YMg0YfQtdGA0LXQtyBCbm92byBDb25jaWVyZ2VcIixcclxuICAgIC8vICAgICAvLyB1cmw6IFwiaHR0cDovL2F6YXJ0LXRlc3Qua2FkZW1pZG92LmNvbS5zd3Rlc3QucnUvYm9va2luZy5odG1sXCJcclxuICAgIC8vICAgICBhZHVsdHM6IFwiMlwiXHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgdmFyIGluZGV4UHJvbW8gPSAkKCcucHJvbW8nKTtcclxuXHJcbiAgaWYgKCAkKGluZGV4UHJvbW8pLmxlbmd0aCAhPSAwICl7XHJcbiAgICBiTm92b0luZGV4KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJOb3ZvUm9vbSgpO1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgaWYgKCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAxNzAgKSB7XHJcbiAgICAkKCcucGFnZS1oZWFkZXInKS5hZGRDbGFzcygncGFnZS1oZWFkZXItLXNjcm9sbCcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkKCcucGFnZS1oZWFkZXInKS5yZW1vdmVDbGFzcygncGFnZS1oZWFkZXItLXNjcm9sbCcpO1xyXG4gIH1cclxuXHJcbn0pOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgLy8gaWYoICQod2luZG93KS53aWR0aCgpID4gNzY4ICkge1xyXG4gICAgLy8gICBvd2xOZXdzKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICBpZiggJChcIi5uZXdzX19jYXJvdXNlbFwiKS5oYXNDbGFzcyhcInNsaWNrLWluaXRpYWxpemVkXCIpICkge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdpbml0IGRvbmUnKTtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyAgIH0gZWxzZSBpZiAoICQod2luZG93KS53aWR0aCgpID4gNzY4ICkge1xyXG4gICAgLy8gICAgIG93bE5ld3MoKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsTmV3cygpIHtcclxuICAgICAgJCgnI25ld3MtY2Fyb3VzZWwnKS5zbGljayh7XHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIC8vIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgZmFkZTogdHJ1ZSxcclxuICAgICAgICBkb3RzOiBmYWxzZSxcclxuXHJcbiAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlXHJcbiAgICAgICAgICAgIC8vIHNldHRpbmdzOiBcInVuc2xpY2tcIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG93bE5ld3MoKTtcclxuXHJcblxyXG59KTsiLCIkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gcmF0aW9QaG90byhibG9jaykge1xyXG4gICAgJChibG9jaykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaXRlbVdpZHRoID0gJCh0aGlzKS53aWR0aCgpO1xyXG4gICAgICB2YXIgaXRlbUhlaWdodCA9ICQodGhpcykuaGVpZ2h0KCk7XHJcbiAgICAgIHZhciBpdGVtUmF0aW8gPSBpdGVtSGVpZ2h0IC8gaXRlbVdpZHRoO1xyXG5cclxuICAgICAgdmFyIHBob3RvID0gJCh0aGlzKS5maW5kKCdpbWcnKTtcclxuICAgICAgdmFyIHBob3RvV2lkdGggPSBwaG90by53aWR0aCgpO1xyXG4gICAgICB2YXIgcGhvdG9IZWlnaHQgPSBwaG90by5oZWlnaHQoKTtcclxuICAgICAgdmFyIHBob3RvUmF0aW8gPSBwaG90b0hlaWdodCAvIHBob3RvV2lkdGg7XHJcblxyXG4gICAgICBpZiAoIGl0ZW1SYXRpbyA8IHBob3RvUmF0aW8gKSB7XHJcbiAgICAgICAgcGhvdG8ud2lkdGgoJzEwMCUnKTtcclxuICAgICAgICBwaG90by5oZWlnaHQoJ2F1dG8nKTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtUmF0aW8gPiBwaG90b1JhdGlvKSB7XHJcbiAgICAgICAgcGhvdG8uaGVpZ2h0KCcxMDAlJyk7XHJcbiAgICAgICAgcGhvdG8ud2lkdGgoJ2F1dG8nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwaG90by53aWR0aCgnMTAwJScpO1xyXG4gICAgICAgIHBob3RvLmhlaWdodCgnYXV0bycpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJhdGlvTGV0dGVyKGJsb2NrKSB7XHJcbiAgICAkKGJsb2NrKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpdGVtV2lkdGggPSAkKHRoaXMpLndpZHRoKCk7XHJcbiAgICAgIHZhciBpdGVtSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKTtcclxuICAgICAgdmFyIGl0ZW1SYXRpbyA9IGl0ZW1IZWlnaHQgLyBpdGVtV2lkdGg7XHJcblxyXG4gICAgICB2YXIgcGhvdG8gPSAkKHRoaXMpLmZpbmQoJ2ltZycpO1xyXG4gICAgICB2YXIgcGhvdG9XaWR0aCA9IHBob3RvLndpZHRoKCk7XHJcbiAgICAgIHZhciBwaG90b0hlaWdodCA9IHBob3RvLmhlaWdodCgpO1xyXG4gICAgICB2YXIgcGhvdG9SYXRpbyA9IHBob3RvSGVpZ2h0IC8gcGhvdG9XaWR0aDtcclxuXHJcbiAgICAgIGlmICggaXRlbVJhdGlvID4gcGhvdG9SYXRpbyApIHtcclxuICAgICAgICBwaG90by53aWR0aCgnMTAwJScpO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW1SYXRpbyA8IHBob3RvUmF0aW8pIHtcclxuICAgICAgICBwaG90by5oZWlnaHQoJzEwMCUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwaG90by53aWR0aCgnMTAwJScpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJhdGlvUGhvdG8oJy5vZmZlcnMtY29udGVudF9fcGhvdG8tYm94Jyk7XHJcbiAgcmF0aW9QaG90bygnLnNsaWRlcl9faXRlbScpO1xyXG4gIC8vIHJhdGlvUGhvdG8oJy5jaXR5X19waG90bycpO1xyXG4gIHJhdGlvUGhvdG8oJy5leGN1cnNpb25fX3Bob3RvJyk7XHJcbiAgXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgcmF0aW9QaG90bygnLm9mZmVycy1jb250ZW50X19waG90by1ib3gnKTtcclxuICAgIHJhdGlvUGhvdG8oJy5zbGlkZXJfX2l0ZW0nKTtcclxuICAgIC8vIHJhdGlvUGhvdG8oJy5jaXR5X19waG90bycpO1xyXG4gICAgcmF0aW9QaG90bygnLmV4Y3Vyc2lvbl9fcGhvdG8nKTtcclxuXHJcbiAgfSwgZmFsc2UpO1xyXG5cclxuICAvLyAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XHJcbiAgICBcclxuXHJcbiAgLy8gfSk7XHJcblxyXG59KTsiLCIiLCJjb25zb2xlLmxvZygneWVwLCBpdFxcJ3Mgd29yayEnKTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gIGNvbnNvbGUubG9nKFwid29ya1wiKTtcclxuXHJcbiAgZnVuY3Rpb24gc2xpZGVyUm9vbVBhZ2UoaWQpIHtcclxuXHJcbiAgICAkKGlkKS5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIHByZXZBcnJvdzogaWQgKyAnLWJveCAucm9vbXNfX2Fycm93LS1wcmV2JyxcclxuICAgICAgbmV4dEFycm93OiBpZCArICctYm94IC5yb29tc19fYXJyb3ctLW5leHQnLFxyXG4gICAgICAvLyBmYWRlOiB0cnVlLFxyXG4gICAgICBkb3RzOiB0cnVlXHJcbiAgICB9KTtcclxuICBcclxuICB9XHJcblxyXG4gIHNsaWRlclJvb21QYWdlKFwiI3NpbmdsZVwiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNkb3VibGVcIik7XHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjZG91YmxlLXdpbmRvd1wiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNkb3VibGUtc3VwZXJcIik7XHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjZmFtaWx5XCIpO1xyXG4gIHNsaWRlclJvb21QYWdlKFwiI2RlbHV4XCIpO1xyXG5cclxuICBmdW5jdGlvbiBzbGlkZXJTaW5nbGVSb29tKGlkKSB7XHJcblxyXG4gICAgJChpZCkuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgIC8vIGZhZGU6IHRydWUsXHJcbiAgICAgIGRvdHM6IGZhbHNlXHJcbiAgICB9KTtcclxuICBcclxuICB9XHJcblxyXG4gIHNsaWRlclNpbmdsZVJvb20oXCIjcm9vbXMtc2xpZGVyXCIpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gc2xpZGVyQ2l0eShpZCkge1xyXG5cclxuICAgICQoaWQpLnNsaWNrKHtcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgfVxyXG5cclxuICBzbGlkZXJDaXR5KFwiI2NpdHktc2xpZGVyXCIpO1xyXG4gIHNsaWRlckNpdHkoXCIjZXhjdXJzaW9uLXNsaWRlclwiKTtcclxuICBcclxuXHJcbn0pOyIsIi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4vLyB2YXIgV3VCb29rPSBuZXcgX1d1Qm9vaygxNDkyNjE0NTcyKTtcclxuLy8gICB2YXIgd2JwYXJhbXM9IHtcclxuLy8gICAgICAgICBsYW5nOiAncnUnLFxyXG4vLyAgICAgICAgIGxheW91dDogJycsXHJcbi8vICAgICAgICAgd2lkdGg6IDExNDAsXHJcbi8vICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXHJcbi8vICAgICAgICAgbW9iaWxlOiAxLFxyXG4vLyAgICAgICAgIG1oZWlnaHQ6IDY0MFxyXG4vLyAgIH07XHJcbi8vICAgV3VCb29rLmRlc2lnbl9pZnJhbWUoXCJfd2JvcmRfXCIsIHdicGFyYW1zKTtcclxuXHJcbi8vIH0pOyJdfQ==
