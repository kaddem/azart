$(document).ready(function(){function o(o){$(o+" a").on("click",function(o){o.preventDefault();var t=$(this).attr("href").substring(1),e=$(document).scrollTop(),n=$("#"+t).offset().top,r=Math.abs(e-n)/4;$("body,html").animate({scrollTop:n-130},r)})}if($(".page-header__main-nav").is(".page-header__main-nav--rooms"))return void console.log("работает проверка");o(".page-header__main-nav"),o(".page-footer__nav")}),$(document).ready(function(){var o=$(".promo"),t=$(".current-lang");$(t).hasClass("lang-item-en")?0!=$(o).length?function(){Bnovo_Widget.init(function(){Bnovo_Widget.open("_bn_widget_",{type:"horizontal",lcode:"1492614572",layout:"demetra",lang:"en",width:"100%",background:"#ffffff",bg_alpha:"0",padding:"0",border_radius:"4",font_type:"arial",font_color:"#333333",font_size:"15",without_title:"on",title_color:"#222222",title_size:"18",inp_color:"#333333",inp_bordhover:"#ffffff",inp_bordcolor:"#ffffff",inp_alpha:"100",btn_background:"#fe8205",btn_background_over:"#fe9934",btn_textcolor:"#ffffff",btn_textover:"#ffffff",btn_bordcolor:"#fe8205",btn_bordhover:"#fe9934",btn_text:"Booking",arrival:"Arrival",departure:"Departure",text_concierge:"Получи скидку через Bnovo Concierge"})})}():function(){Bnovo_Widget.init(function(){Bnovo_Widget.open("_bn_widget_",{type:"vertical",lcode:"1492614572",lang:"en",width:"100%",background:"#ffffff",bg_alpha:"100",padding:"30",border_radius:"4",font_type:"arial",font_color:"#333333",font_size:"15",without_title:"on",title_color:"#222222",title_size:"18",inp_color:"#333333",inp_bordhover:"#cccccc",inp_bordcolor:"#cccccc",inp_alpha:"100",btn_background:"#fe8205",btn_background_over:"#fe9934",btn_textcolor:"#ffffff",btn_textover:"#ffffff",btn_bordcolor:"#fe8205",btn_bordhover:"#fe9934",btn_text:"Booking",arrival:"Arrival",departure:"Departure",text_concierge:"Получи скидку через Bnovo Concierge",adults:"2"})})}():$(t).hasClass("lang-item-ru")&&(0!=$(o).length?function(){Bnovo_Widget.init(function(){Bnovo_Widget.open("_bn_widget_",{type:"horizontal",lcode:"1492614572",layout:"demetra",lang:"ru",width:"100%",background:"#ffffff",bg_alpha:"0",padding:"0",border_radius:"4",font_type:"arial",font_color:"#333333",font_size:"15",without_title:"on",title_color:"#222222",title_size:"18",inp_color:"#333333",inp_bordhover:"#ffffff",inp_bordcolor:"#ffffff",inp_alpha:"100",btn_background:"#fe8205",btn_background_over:"#fe9934",btn_textcolor:"#ffffff",btn_textover:"#ffffff",btn_bordcolor:"#fe8205",btn_bordhover:"#fe9934",btn_text:"Бронировать номер",arrival:"Заезд",departure:"Выезд",text_concierge:"Получи скидку через Bnovo Concierge"})})}():function(){Bnovo_Widget.init(function(){Bnovo_Widget.open("_bn_widget_",{type:"vertical",lcode:"1492614572",lang:"ru",width:"100%",background:"#ffffff",bg_alpha:"100",padding:"30",border_radius:"4",font_type:"arial",font_color:"#333333",font_size:"15",without_title:"on",title_color:"#222222",title_size:"18",inp_color:"#333333",inp_bordhover:"#cccccc",inp_bordcolor:"#cccccc",inp_alpha:"100",btn_background:"#fe8205",btn_background_over:"#fe9934",btn_textcolor:"#ffffff",btn_textover:"#ffffff",btn_bordcolor:"#fe8205",btn_bordhover:"#fe9934",btn_text:"Бронировать номер",arrival:"Заезд",departure:"Выезд",text_concierge:"Получи скидку через Bnovo Concierge",adults:"2"})})}())}),$(window).on("scroll",function(o){$(window).scrollTop()>170?($(".page-header").addClass("page-header--scroll"),$(".rooms-slider").css({"padding-top":"253px"}),$(".promo").css({"margin-top":"143px"})):($(".page-header").removeClass("page-header--scroll"),$(".rooms-slider").css({"padding-top":"175px"}),$(".promo").css({"margin-top":"0"}))}),$(document).ready(function(){!function(){$("#news-carousel").slick({slidesToShow:1,slidesToScroll:1,fade:!0,dots:!1,responsive:[{breakpoint:768,adaptiveHeight:!0}]})}()}),$(window).load(function(){function o(o){$(o).each(function(){var o=$(this).width(),t=$(this).height(),e=t/o,n=$(this).find("img"),r=n.width(),i=n.height(),f=i/r;e<f?$(n).attr({width:"100%",height:"auto"}):e>f?$(n).attr({width:"auto",height:"100%"}):$(n).attr({width:"100%",height:"auto"})})}o(".offers-content__photo-box"),o(".slider__item"),o(".excursion__photo"),window.addEventListener("resize",function(){o(".offers-content__photo-box"),o(".slider__item"),o(".excursion__photo")},!1)}),$(document).ready(function(){var o=$(".rooms-slider__item"),t=$(o).length,e=$(".rooms-slider__num-this"),n=$(".rooms-slider__num-full");String(t).length<2?$(n).text("0"+t):$(n).text(t);for(var r=0;r<t;++r){var i=r+1;String(i).length<2?$(e).eq(r).text("0"+i):$(e).eq(r).text(i)}}),console.log("yep, it's work!"),$(document).ready(function(){function o(o){$(o).slick({slidesToShow:1,slidesToScroll:1,prevArrow:o+"-box .rooms__arrow--prev",nextArrow:o+"-box .rooms__arrow--next",dots:!0})}function t(o){$(o).slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0,centerMode:!0,focusOnSelect:!0})}console.log("work"),o("#single"),o("#double"),o("#double-window"),o("#double-super"),o("#family"),o("#delux"),function(o){$(o).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1})}("#rooms-slider"),t("#city-slider"),t("#excursion-slider")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuY2hvci5qcyIsImJub3ZvLXdwLmpzIiwiaGVhZGVyLXNjcm9sbC5qcyIsIm5ld3Mtc2xpY2suanMiLCJyYXRpby1waG90by5qcyIsInJvb20tc2xpZGVyLWl0ZW0uanMiLCJzY3JpcHQuanMiLCJzbGljay1zbGlkZXIuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJhbmNob3JTY3JvbGwiLCJib3hBbmNob3JMaW5rIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJhdHRyIiwidGhpcyIsInN1YnN0cmluZyIsImN1cnJlbnRQb3NpdGlvbiIsInNjcm9sbFRvcCIsImlkUG9zaXRpb24iLCJvZmZzZXQiLCJ0b3AiLCJzY3JvbGxUaW1lIiwiTWF0aCIsImFicyIsImFuaW1hdGUiLCJpcyIsImNvbnNvbGUiLCJsb2ciLCJpbmRleFByb21vIiwiY2hlY2tFbGVtIiwiaGFzQ2xhc3MiLCJsZW5ndGgiLCJCbm92b19XaWRnZXQiLCJpbml0Iiwib3BlbiIsInR5cGUiLCJsY29kZSIsImxheW91dCIsImxhbmciLCJ3aWR0aCIsImJhY2tncm91bmQiLCJiZ19hbHBoYSIsInBhZGRpbmciLCJib3JkZXJfcmFkaXVzIiwiZm9udF90eXBlIiwiZm9udF9jb2xvciIsImZvbnRfc2l6ZSIsIndpdGhvdXRfdGl0bGUiLCJ0aXRsZV9jb2xvciIsInRpdGxlX3NpemUiLCJpbnBfY29sb3IiLCJpbnBfYm9yZGhvdmVyIiwiaW5wX2JvcmRjb2xvciIsImlucF9hbHBoYSIsImJ0bl9iYWNrZ3JvdW5kIiwiYnRuX2JhY2tncm91bmRfb3ZlciIsImJ0bl90ZXh0Y29sb3IiLCJidG5fdGV4dG92ZXIiLCJidG5fYm9yZGNvbG9yIiwiYnRuX2JvcmRob3ZlciIsImJ0bl90ZXh0IiwiYXJyaXZhbCIsImRlcGFydHVyZSIsInRleHRfY29uY2llcmdlIiwiYWR1bHRzIiwid2luZG93IiwiYWRkQ2xhc3MiLCJjc3MiLCJwYWRkaW5nLXRvcCIsIm1hcmdpbi10b3AiLCJyZW1vdmVDbGFzcyIsInNsaWNrIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJmYWRlIiwiZG90cyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50IiwiYWRhcHRpdmVIZWlnaHQiLCJsb2FkIiwicmF0aW9QaG90byIsImJsb2NrIiwiZWFjaCIsIml0ZW1XaWR0aCIsIml0ZW1IZWlnaHQiLCJoZWlnaHQiLCJpdGVtUmF0aW8iLCJwaG90byIsImZpbmQiLCJwaG90b1dpZHRoIiwicGhvdG9IZWlnaHQiLCJwaG90b1JhdGlvIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW1TbGlkZXIiLCJxbHRFbGVtU2xpZGVyIiwidGhpc051bUVsZW0iLCJhbGxOdW1FbGVtIiwiU3RyaW5nIiwidGV4dCIsImkiLCJudW0iLCJlcSIsInNsaWRlclJvb21QYWdlIiwiaWQiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJzbGlkZXJDaXR5IiwiYXJyb3dzIiwiY2VudGVyTW9kZSIsImZvY3VzT25TZWxlY3QiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFBQyxVQUFBQyxNQUFBLFdBRUEsUUFBQUMsR0FBQUMsR0FDQUosRUFBQUksRUFBQSxNQUFBQyxHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBQ0EsSUFBQUMsR0FBQVIsRUFBQVMsTUFBQUQsS0FBQSxRQUFBRSxVQUFBLEdBQ0FDLEVBQUFYLEVBQUFDLFVBQUFXLFlBQ0FDLEVBQUFiLEVBQUEsSUFBQVEsR0FBQU0sU0FBQUMsSUFDQUMsRUFBQUMsS0FBQUMsSUFBQVAsRUFBQUUsR0FBQSxDQUNBYixHQUFBLGFBQUFtQixTQUFBUCxVQUFBQyxFQUFBLEtBQUFHLEtBUUEsR0FGQWhCLEVBQUEsMEJBQUFvQixHQUFBLGlDQUlBLFdBREFDLFNBQUFDLElBQUEsb0JBR0FuQixHQUFBLDBCQUNBQSxFQUFBLHVCQ3RCQUgsRUFBQUMsVUFBQUMsTUFBQSxXQXlKQSxHQUFBcUIsR0FBQXZCLEVBQUEsVUFDQXdCLEVBQUF4QixFQUFBLGdCQVlBQSxHQUFBd0IsR0FBQUMs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QUFELEtBQUEsSUFBQUUsR0FFQS9GLEVBQUEwRixHQUFBTSxHQUFBRixHQUFBRCxLQUFBRSxNQ3JCQTFFLFFBQUFDLElBQUEsbUJDQUF0QixFQUFBQyxVQUFBQyxNQUFBLFdBR0EsUUFBQStGLEdBQUFDLEdBRUFsRyxFQUFBa0csR0FBQWhDLE9BQ0FDLGFBQUEsRUFDQUMsZUFBQSxFQUNBK0IsVUFBQUQsRUFBQSwyQkFDQUUsVUFBQUYsRUFBQSwyQkFFQTVCLE1BQUEsSUEyQkEsUUFBQStCLEdBQUFILEdBRUFsRyxFQUFBa0csR0FBQWhDLE9BQ0FDLGFBQUEsRUFDQUMsZUFBQSxFQUNBa0MsUUFBQSxFQUNBaEMsTUFBQSxFQUNBaUMsWUFBQSxFQUNBQyxlQUFBLElBN0NBbkYsUUFBQUMsSUFBQSxRQWVBMkUsRUFBQSxXQUNBQSxFQUFBLFdBQ0FBLEVBQUEsa0JBQ0FBLEVBQUEsaUJBQ0FBLEVBQUEsV0FDQUEsRUFBQSxVQUVBLFNBQUFDLEdBRUFsRyxFQUFBa0csR0FBQWhDLE9BQ0FDLGFBQUEsRUFDQUMsZUFBQSxFQUNBa0MsUUFBQSxFQUVBaEMsTUFBQSxLQUtBLGlCQWdCQStCLEVBQUEsZ0JBQ0FBLEVBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gIGZ1bmN0aW9uIGFuY2hvclNjcm9sbChib3hBbmNob3JMaW5rKXtcclxuICAgICQoYm94QW5jaG9yTGluayArICcgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgYXR0ciA9ICQodGhpcykuYXR0cignaHJlZicpLnN1YnN0cmluZygxKTtcclxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgdmFyIGlkUG9zaXRpb24gPSAkKCcjJythdHRyKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgdmFyIHNjcm9sbFRpbWUgPSBNYXRoLmFicyhjdXJyZW50UG9zaXRpb24gLSBpZFBvc2l0aW9uKSAvIDQ7IC8vIE1hdGguYWJzIC0g0LzQvtC00YPQu9GMINGH0LjRgdC70LAuXHJcbiAgICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7J3Njcm9sbFRvcCc6aWRQb3NpdGlvbi0xMzB9LHNjcm9sbFRpbWUpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gJCgnLm1haW4tbmF2X19yb29tcycpXHJcblxyXG4gIHZhciBjaGVjayA9ICQoXCIucGFnZS1oZWFkZXJfX21haW4tbmF2XCIpLmlzKFwiLnBhZ2UtaGVhZGVyX19tYWluLW5hdi0tcm9vbXNcIik7XHJcblxyXG4gIGlmICggY2hlY2sgKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0YDQsNCx0L7RgtCw0LXRgiDQv9GA0L7QstC10YDQutCwJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfSBlbHNlIHtcclxuICAgIGFuY2hvclNjcm9sbCgnLnBhZ2UtaGVhZGVyX19tYWluLW5hdicpO1xyXG4gICAgYW5jaG9yU2Nyb2xsKCcucGFnZS1mb290ZXJfX25hdicpO1xyXG4gIH1cclxuXHJcbiAgXHJcblxyXG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cclxuICBmdW5jdGlvbiBiTm92b0luZGV4UnUoKSB7XHJcblxyXG4gICAgQm5vdm9fV2lkZ2V0LmluaXQoZnVuY3Rpb24oKXtcclxuICAgICAgQm5vdm9fV2lkZ2V0Lm9wZW4oJ19ibl93aWRnZXRfJywge1xyXG4gICAgICAgIHR5cGU6IFwiaG9yaXpvbnRhbFwiLFxyXG4gICAgICAgIGxjb2RlOiBcIjE0OTI2MTQ1NzJcIixcclxuICAgICAgICBsYXlvdXQ6IFwiZGVtZXRyYVwiLFxyXG4gICAgICAgIGxhbmc6IFwicnVcIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYmdfYWxwaGE6IFwiMFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiLFxyXG4gICAgICAgIGJvcmRlcl9yYWRpdXM6IFwiNFwiLFxyXG4gICAgICAgIGZvbnRfdHlwZTogXCJhcmlhbFwiLFxyXG4gICAgICAgIGZvbnRfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGZvbnRfc2l6ZTogXCIxNVwiLFxyXG4gICAgICAgIHdpdGhvdXRfdGl0bGU6IFwib25cIixcclxuICAgICAgICB0aXRsZV9jb2xvcjogXCIjMjIyMjIyXCIsXHJcbiAgICAgICAgdGl0bGVfc2l6ZTogXCIxOFwiLFxyXG4gICAgICAgIGlucF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAgICAgaW5wX2JvcmRob3ZlcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgaW5wX2JvcmRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgaW5wX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgICAgIGJ0bl9iYWNrZ3JvdW5kOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZF9vdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fdGV4dG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJ0bl9ib3JkY29sb3I6IFwiI2ZlODIwNVwiLFxyXG4gICAgICAgIGJ0bl9ib3JkaG92ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgICAgIGJ0bl90ZXh0OiBcItCR0YDQvtC90LjRgNC+0LLQsNGC0Ywg0L3QvtC80LXRgFwiLFxyXG4gICAgICAgIGFycml2YWw6IFwi0JfQsNC10LfQtFwiLFxyXG4gICAgICAgIGRlcGFydHVyZTogXCLQktGL0LXQt9C0XCIsXHJcbiAgICAgICAgdGV4dF9jb25jaWVyZ2U6IFwi0J/QvtC70YPRh9C4INGB0LrQuNC00LrRgyDRh9C10YDQtdC3IEJub3ZvIENvbmNpZXJnZVwiLFxyXG4gICAgICAgIC8vIHVybDogXCJodHRwOi8vYXphcnQtdGVzdC5rYWRlbWlkb3YuY29tLnN3dGVzdC5ydS9ib29raW5nLmh0bWxcIlxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYk5vdm9JbmRleEVuKCkge1xyXG5cclxuICAgIEJub3ZvX1dpZGdldC5pbml0KGZ1bmN0aW9uKCl7XHJcbiAgICAgIEJub3ZvX1dpZGdldC5vcGVuKCdfYm5fd2lkZ2V0XycsIHtcclxuICAgICAgICB0eXBlOiBcImhvcml6b250YWxcIixcclxuICAgICAgICBsY29kZTogXCIxNDkyNjE0NTcyXCIsXHJcbiAgICAgICAgbGF5b3V0OiBcImRlbWV0cmFcIixcclxuICAgICAgICBsYW5nOiBcImVuXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJnX2FscGhhOiBcIjBcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjBcIixcclxuICAgICAgICBib3JkZXJfcmFkaXVzOiBcIjRcIixcclxuICAgICAgICBmb250X3R5cGU6IFwiYXJpYWxcIixcclxuICAgICAgICBmb250X2NvbG9yOiBcIiMzMzMzMzNcIixcclxuICAgICAgICBmb250X3NpemU6IFwiMTVcIixcclxuICAgICAgICB3aXRob3V0X3RpdGxlOiBcIm9uXCIsXHJcbiAgICAgICAgdGl0bGVfY29sb3I6IFwiIzIyMjIyMlwiLFxyXG4gICAgICAgIHRpdGxlX3NpemU6IFwiMThcIixcclxuICAgICAgICBpbnBfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGlucF9ib3JkaG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGlucF9ib3JkY29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGlucF9hbHBoYTogXCIxMDBcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZDogXCIjZmU4MjA1XCIsXHJcbiAgICAgICAgYnRuX2JhY2tncm91bmRfb3ZlcjogXCIjZmU5OTM0XCIsXHJcbiAgICAgICAgYnRuX3RleHRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYnRuX3RleHRvdmVyOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fYm9yZGNvbG9yOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYm9yZGhvdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dDogXCJCb29raW5nXCIsXHJcbiAgICAgICAgYXJyaXZhbDogXCJBcnJpdmFsXCIsXHJcbiAgICAgICAgZGVwYXJ0dXJlOiBcIkRlcGFydHVyZVwiLFxyXG4gICAgICAgIHRleHRfY29uY2llcmdlOiBcItCf0L7Qu9GD0YfQuCDRgdC60LjQtNC60YMg0YfQtdGA0LXQtyBCbm92byBDb25jaWVyZ2VcIixcclxuICAgICAgICAvLyB1cmw6IFwiaHR0cDovL2F6YXJ0LXRlc3Qua2FkZW1pZG92LmNvbS5zd3Rlc3QucnUvYm9va2luZy5odG1sXCJcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJOb3ZvUm9vbVJ1KCkge1xyXG4gICAgQm5vdm9fV2lkZ2V0LmluaXQoZnVuY3Rpb24oKXtcclxuICAgICAgQm5vdm9fV2lkZ2V0Lm9wZW4oJ19ibl93aWRnZXRfJywge1xyXG4gICAgICAgIHR5cGU6IFwidmVydGljYWxcIixcclxuICAgICAgICBsY29kZTogXCIxNDkyNjE0NTcyXCIsXHJcbiAgICAgICAgbGFuZzogXCJydVwiLFxyXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBiZ19hbHBoYTogXCIxMDBcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjMwXCIsXHJcbiAgICAgICAgYm9yZGVyX3JhZGl1czogXCI0XCIsXHJcbiAgICAgICAgZm9udF90eXBlOiBcImFyaWFsXCIsXHJcbiAgICAgICAgZm9udF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAgICAgZm9udF9zaXplOiBcIjE1XCIsXHJcbiAgICAgICAgd2l0aG91dF90aXRsZTogXCJvblwiLFxyXG4gICAgICAgIHRpdGxlX2NvbG9yOiBcIiMyMjIyMjJcIixcclxuICAgICAgICB0aXRsZV9zaXplOiBcIjE4XCIsXHJcbiAgICAgICAgaW5wX2NvbG9yOiBcIiMzMzMzMzNcIixcclxuICAgICAgICBpbnBfYm9yZGhvdmVyOiBcIiNjY2NjY2NcIixcclxuICAgICAgICBpbnBfYm9yZGNvbG9yOiBcIiNjY2NjY2NcIixcclxuICAgICAgICBpbnBfYWxwaGE6IFwiMTAwXCIsXHJcbiAgICAgICAgYnRuX2JhY2tncm91bmQ6IFwiI2ZlODIwNVwiLFxyXG4gICAgICAgIGJ0bl9iYWNrZ3JvdW5kX292ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgICAgIGJ0bl90ZXh0Y29sb3I6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJ0bl90ZXh0b3ZlcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYnRuX2JvcmRjb2xvcjogXCIjZmU4MjA1XCIsXHJcbiAgICAgICAgYnRuX2JvcmRob3ZlcjogXCIjZmU5OTM0XCIsXHJcbiAgICAgICAgYnRuX3RleHQ6IFwi0JHRgNC+0L3QuNGA0L7QstCw0YLRjCDQvdC+0LzQtdGAXCIsXHJcbiAgICAgICAgYXJyaXZhbDogXCLQl9Cw0LXQt9C0XCIsXHJcbiAgICAgICAgZGVwYXJ0dXJlOiBcItCS0YvQtdC30LRcIixcclxuICAgICAgICB0ZXh0X2NvbmNpZXJnZTogXCLQn9C+0LvRg9GH0Lgg0YHQutC40LTQutGDINGH0LXRgNC10LcgQm5vdm8gQ29uY2llcmdlXCIsXHJcbiAgICAgICAgYWR1bHRzOiBcIjJcIlxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJOb3ZvUm9vbUVuKCkge1xyXG5cclxuICAgIEJub3ZvX1dpZGdldC5pbml0KGZ1bmN0aW9uKCl7XHJcbiAgICAgIEJub3ZvX1dpZGdldC5vcGVuKCdfYm5fd2lkZ2V0XycsIHtcclxuICAgICAgICB0eXBlOiBcInZlcnRpY2FsXCIsXHJcbiAgICAgICAgbGNvZGU6IFwiMTQ5MjYxNDU3MlwiLFxyXG4gICAgICAgIGxhbmc6IFwiZW5cIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYmdfYWxwaGE6IFwiMTAwXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIzMFwiLFxyXG4gICAgICAgIGJvcmRlcl9yYWRpdXM6IFwiNFwiLFxyXG4gICAgICAgIGZvbnRfdHlwZTogXCJhcmlhbFwiLFxyXG4gICAgICAgIGZvbnRfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGZvbnRfc2l6ZTogXCIxNVwiLFxyXG4gICAgICAgIHdpdGhvdXRfdGl0bGU6IFwib25cIixcclxuICAgICAgICB0aXRsZV9jb2xvcjogXCIjMjIyMjIyXCIsXHJcbiAgICAgICAgdGl0bGVfc2l6ZTogXCIxOFwiLFxyXG4gICAgICAgIGlucF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAgICAgaW5wX2JvcmRob3ZlcjogXCIjY2NjY2NjXCIsXHJcbiAgICAgICAgaW5wX2JvcmRjb2xvcjogXCIjY2NjY2NjXCIsXHJcbiAgICAgICAgaW5wX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgICAgIGJ0bl9iYWNrZ3JvdW5kOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZF9vdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fdGV4dG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJ0bl9ib3JkY29sb3I6IFwiI2ZlODIwNVwiLFxyXG4gICAgICAgIGJ0bl9ib3JkaG92ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgICAgIGJ0bl90ZXh0OiBcIkJvb2tpbmdcIixcclxuICAgICAgICBhcnJpdmFsOiBcIkFycml2YWxcIixcclxuICAgICAgICBkZXBhcnR1cmU6IFwiRGVwYXJ0dXJlXCIsXHJcbiAgICAgICAgdGV4dF9jb25jaWVyZ2U6IFwi0J/QvtC70YPRh9C4INGB0LrQuNC00LrRgyDRh9C10YDQtdC3IEJub3ZvIENvbmNpZXJnZVwiLFxyXG4gICAgICAgIGFkdWx0czogXCIyXCJcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICB2YXIgaW5kZXhQcm9tbyA9ICQoJy5wcm9tbycpO1xyXG4gIHZhciBjaGVja0VsZW0gPSAkKCcuY3VycmVudC1sYW5nJyk7XHJcblxyXG4gIC8vIGlmICggJChpbmRleFByb21vKS5sZW5ndGggIT0gMCApe1xyXG4gIC8vICAgYk5vdm9JbmRleFJ1KCk7XHJcbiAgLy8gfSBlbHNlIHtcclxuICAvLyAgIGlmICggJChjaGVja0VsZW0pLmhhc0NsYXNzKCdtZW51LWxpbmstZW4nKSApIHtcclxuICAvLyAgICAgICBiTm92b1Jvb21FbigpO1xyXG4gIC8vICAgfSBlbHNlIGlmICggJChjaGVja0VsZW0pLmhhc0NsYXNzKCdtZW51LWxpbmstcnUnKSApIHtcclxuICAvLyAgICAgICBiTm92b1Jvb21SdSgpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuXHJcbiAgICBpZiAoICQoY2hlY2tFbGVtKS5oYXNDbGFzcygnbGFuZy1pdGVtLWVuJykgKSB7XHJcbiAgICAgICAgaWYgKCAkKGluZGV4UHJvbW8pLmxlbmd0aCAhPSAwICl7XHJcbiAgICAgICAgICAgIGJOb3ZvSW5kZXhFbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJOb3ZvUm9vbUVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICggJChjaGVja0VsZW0pLmhhc0NsYXNzKCdsYW5nLWl0ZW0tcnUnKSApIHtcclxuICAgICAgICBpZiAoICQoaW5kZXhQcm9tbykubGVuZ3RoICE9IDAgKXtcclxuICAgICAgICAgICAgYk5vdm9JbmRleFJ1KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYk5vdm9Sb29tUnUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KTsiLCIkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgaWYgKCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiAxNzAgKSB7XHJcblxyXG4gICAgJCgnLnBhZ2UtaGVhZGVyJykuYWRkQ2xhc3MoJ3BhZ2UtaGVhZGVyLS1zY3JvbGwnKTtcclxuICAgICQoJy5yb29tcy1zbGlkZXInKS5jc3Moe1xyXG4gICAgICBcInBhZGRpbmctdG9wXCI6IFwiMjUzcHhcIlxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnByb21vJykuY3NzKHtcclxuICAgICAgXCJtYXJnaW4tdG9wXCI6IFwiMTQzcHhcIlxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJy5wYWdlLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdwYWdlLWhlYWRlci0tc2Nyb2xsJyk7XHJcbiAgICAkKCcucm9vbXMtc2xpZGVyJykuY3NzKHtcclxuICAgICAgXCJwYWRkaW5nLXRvcFwiOiBcIjE3NXB4XCJcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5wcm9tbycpLmNzcyh7XHJcbiAgICAgIFwibWFyZ2luLXRvcFwiOiBcIjBcIlxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAvLyBpZiggJCh3aW5kb3cpLndpZHRoKCkgPiA3NjggKSB7XHJcbiAgICAvLyAgIG93bE5ld3MoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAkKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgIGlmKCAkKFwiLm5ld3NfX2Nhcm91c2VsXCIpLmhhc0NsYXNzKFwic2xpY2staW5pdGlhbGl6ZWRcIikgKSB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2luaXQgZG9uZScpO1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vICAgfSBlbHNlIGlmICggJCh3aW5kb3cpLndpZHRoKCkgPiA3NjggKSB7XHJcbiAgICAvLyAgICAgb3dsTmV3cygpO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvd2xOZXdzKCkge1xyXG4gICAgICAkKCcjbmV3cy1jYXJvdXNlbCcpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgLy8gYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICAgIGRvdHM6IGZhbHNlLFxyXG5cclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWVcclxuICAgICAgICAgICAgLy8gc2V0dGluZ3M6IFwidW5zbGlja1wiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb3dsTmV3cygpO1xyXG5cclxuXHJcbn0pOyIsIiQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCkge1xyXG5cclxuICAvLyBpZiAoICQod2luZG93KS53aWR0aCgpIDwgNzY4ICkge1xyXG4gIC8vICAgdmFyIHJvb21zSXRlbSA9ICQoJyNyb29tcycpLmZpbmQoJy5zbGljay1zbGlkZXInKTtcclxuICAvLyAgIHZhciBzbGlkZXJXaWR0aCA9ICQocm9vbXNJdGVtKS5pbm5lcldpZHRoKCk7XHJcbiAgLy8gICB2YXIgc2xpZGVySGVpZ2h0ID0gKHNsaWRlcldpZHRoICogMC42NikgO1xyXG4gIC8vICAgY29uc29sZS5sb2coc2xpZGVySGVpZ2h0KTtcclxuICAvLyAgIHZhciBpdGVtSCA9ICQocm9vbXNJdGVtKS5maW5kKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgLy8gICAkKGl0ZW1IKS5jc3Moe1xyXG4gIC8vICAgICBcImhlaWdodFwiIDogc2xpZGVySGVpZ2h0XHJcbiAgLy8gICB9KTtcclxuICAvLyB9XHJcblxyXG4gIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAvLyAgIGlmICggJCh3aW5kb3cpLndpZHRoKCkgPCA3NjggKSB7XHJcbiAgLy8gICAgIHZhciByb29tc0l0ZW0gPSAkKCcjcm9vbXMnKS5maW5kKCcuc2xpY2stc2xpZGVyJyk7XHJcbiAgLy8gICAgIHZhciBzbGlkZXJXaWR0aCA9ICQocm9vbXNJdGVtKS5pbm5lcldpZHRoKCk7XHJcbiAgLy8gICAgIHZhciBzbGlkZXJIZWlnaHQgPSAoc2xpZGVyV2lkdGggKiAwLjY2KSA7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKHNsaWRlckhlaWdodCk7XHJcbiAgLy8gICAgIHZhciBpdGVtSCA9ICQocm9vbXNJdGVtKS5maW5kKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgLy8gICAgICQoaXRlbUgpLmNzcyh7XHJcbiAgLy8gICAgICAgXCJoZWlnaHRcIiA6IHNsaWRlckhlaWdodFxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICQoJyNyb29tcyAuc2xpZGVyX19pdGVtJykuY3NzKHtcclxuICAvLyAgICAgICBcImhlaWdodFwiIDogXCI0NTBweFwiXHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfVxyXG5cclxuICAvLyB9LCBmYWxzZSk7XHJcblxyXG4gIGZ1bmN0aW9uIHJhdGlvUGhvdG8oYmxvY2spIHtcclxuICAgICQoYmxvY2spLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIGl0ZW1XaWR0aCA9ICQodGhpcykud2lkdGgoKTtcclxuICAgICAgdmFyIGl0ZW1IZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpO1xyXG4gICAgICB2YXIgaXRlbVJhdGlvID0gaXRlbUhlaWdodCAvIGl0ZW1XaWR0aDtcclxuXHJcbiAgICAgIHZhciBwaG90byA9ICQodGhpcykuZmluZCgnaW1nJyk7XHJcbiAgICAgIHZhciBwaG90b1dpZHRoID0gcGhvdG8ud2lkdGgoKTtcclxuICAgICAgdmFyIHBob3RvSGVpZ2h0ID0gcGhvdG8uaGVpZ2h0KCk7XHJcbiAgICAgIHZhciBwaG90b1JhdGlvID0gcGhvdG9IZWlnaHQgLyBwaG90b1dpZHRoO1xyXG5cclxuICAgICAgLy8gaWYgKCBpdGVtUmF0aW8gPCBwaG90b1JhdGlvICkge1xyXG4gICAgICAvLyAgIHBob3RvLndpZHRoKCcxMDAlJyk7XHJcbiAgICAgIC8vICAgcGhvdG8uaGVpZ2h0KCdhdXRvJyk7XHJcbiAgICAgIC8vIH0gZWxzZSBpZiAoaXRlbVJhdGlvID4gcGhvdG9SYXRpbykge1xyXG4gICAgICAvLyAgIHBob3RvLmhlaWdodCgnMTAwJScpO1xyXG4gICAgICAvLyAgIHBob3RvLndpZHRoKCdhdXRvJyk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgcGhvdG8ud2lkdGgoJzEwMCUnKTtcclxuICAgICAgLy8gICBwaG90by5oZWlnaHQoJ2F1dG8nKTtcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgaWYgKCBpdGVtUmF0aW8gPCBwaG90b1JhdGlvICkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcxINCy0LDRgNC40LonKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtUmF0aW8gKyd2cycrIHBob3RvUmF0aW8pO1xyXG4gICAgICAgICQocGhvdG8pLmF0dHIoe1xyXG4gICAgICAgICAgXCJ3aWR0aFwiOiBcIjEwMCVcIixcclxuICAgICAgICAgIFwiaGVpZ2h0XCI6IFwiYXV0b1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGhvdG8ud2lkdGgoJzEwMCUnKTtcclxuICAgICAgICAvLyBwaG90by5oZWlnaHQoJ2F1dG8nKTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtUmF0aW8gPiBwaG90b1JhdGlvKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJzIg0LLQsNGA0LjQuicpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1SYXRpbyArJ3ZzJysgcGhvdG9SYXRpbyk7XHJcbiAgICAgICAgJChwaG90bykuYXR0cih7XHJcbiAgICAgICAgICBcIndpZHRoXCI6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgXCJoZWlnaHRcIjogXCIxMDAlXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBwaG90by5oZWlnaHQoJzEwMCUnKTtcclxuICAgICAgICAvLyBwaG90by53aWR0aCgnYXV0bycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCczINCy0LDRgNC40LonKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtUmF0aW8gKyd2cycrIHBob3RvUmF0aW8pO1xyXG4gICAgICAgICQocGhvdG8pLmF0dHIoe1xyXG4gICAgICAgICAgXCJ3aWR0aFwiOiBcIjEwMCVcIixcclxuICAgICAgICAgIFwiaGVpZ2h0XCI6IFwiYXV0b1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGhvdG8ud2lkdGgoJzEwMCUnKTtcclxuICAgICAgICAvLyBwaG90by5oZWlnaHQoJ2F1dG8nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByYXRpb0xldHRlcihibG9jaykge1xyXG4gICAgJChibG9jaykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaXRlbVdpZHRoID0gJCh0aGlzKS53aWR0aCgpO1xyXG4gICAgICB2YXIgaXRlbUhlaWdodCA9ICQodGhpcykuaGVpZ2h0KCk7XHJcbiAgICAgIHZhciBpdGVtUmF0aW8gPSBpdGVtSGVpZ2h0IC8gaXRlbVdpZHRoO1xyXG5cclxuICAgICAgdmFyIHBob3RvID0gJCh0aGlzKS5maW5kKCdpbWcnKTtcclxuICAgICAgdmFyIHBob3RvV2lkdGggPSBwaG90by53aWR0aCgpO1xyXG4gICAgICB2YXIgcGhvdG9IZWlnaHQgPSBwaG90by5oZWlnaHQoKTtcclxuICAgICAgdmFyIHBob3RvUmF0aW8gPSBwaG90b0hlaWdodCAvIHBob3RvV2lkdGg7XHJcblxyXG4gICAgICBpZiAoIGl0ZW1SYXRpbyA+IHBob3RvUmF0aW8gKSB7XHJcbiAgICAgICAgJChwaG90bykuYXR0cih7XHJcbiAgICAgICAgICBcIndpZHRoXCI6IFwiMTAwJVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcGhvdG8ud2lkdGgoJzEwMCUnKTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtUmF0aW8gPCBwaG90b1JhdGlvKSB7XHJcbiAgICAgICAgLy8gcGhvdG8uaGVpZ2h0KCcxMDAlJyk7XHJcbiAgICAgICAgJChwaG90bykuYXR0cih7XHJcbiAgICAgICAgICBcImhlaWdodFwiOiBcIjEwMCVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQocGhvdG8pLmF0dHIoe1xyXG4gICAgICAgICAgXCJ3aWR0aFwiOiBcIjEwMCVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHBob3RvLndpZHRoKCcxMDAlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmF0aW9QaG90bygnLm9mZmVycy1jb250ZW50X19waG90by1ib3gnKTtcclxuICByYXRpb1Bob3RvKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgLy8gcmF0aW9QaG90bygnLmNpdHlfX3Bob3RvJyk7XHJcbiAgcmF0aW9QaG90bygnLmV4Y3Vyc2lvbl9fcGhvdG8nKTtcclxuICBcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICByYXRpb1Bob3RvKCcub2ZmZXJzLWNvbnRlbnRfX3Bob3RvLWJveCcpO1xyXG4gICAgcmF0aW9QaG90bygnLnNsaWRlcl9faXRlbScpO1xyXG4gICAgLy8gcmF0aW9QaG90bygnLmNpdHlfX3Bob3RvJyk7XHJcbiAgICByYXRpb1Bob3RvKCcuZXhjdXJzaW9uX19waG90bycpO1xyXG5cclxuICB9LCBmYWxzZSk7XHJcblxyXG4gIC8vICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcclxuICAgIFxyXG5cclxuICAvLyB9KTtcclxuXHJcbn0pOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gIHZhciBlbGVtU2xpZGVyID0gJCgnLnJvb21zLXNsaWRlcl9faXRlbScpO1xyXG4gIHZhciBxbHRFbGVtU2xpZGVyID0gJChlbGVtU2xpZGVyKS5sZW5ndGg7XHJcblxyXG4gIHZhciB0aGlzTnVtRWxlbSA9ICQoJy5yb29tcy1zbGlkZXJfX251bS10aGlzJyk7XHJcbiAgdmFyIGFsbE51bUVsZW0gPSAkKCcucm9vbXMtc2xpZGVyX19udW0tZnVsbCcpO1xyXG5cclxuICBpZiAoIFN0cmluZyhxbHRFbGVtU2xpZGVyKS5sZW5ndGggPCAyICkge1xyXG4gICAgJChhbGxOdW1FbGVtKS50ZXh0KCcwJytxbHRFbGVtU2xpZGVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJChhbGxOdW1FbGVtKS50ZXh0KHFsdEVsZW1TbGlkZXIpO1xyXG4gIH1cclxuXHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcWx0RWxlbVNsaWRlcjsgKytpKSB7XHJcbiAgICB2YXIgbnVtID0gaSArIDE7XHJcblxyXG4gICAgaWYgKCBTdHJpbmcobnVtKS5sZW5ndGggPCAyICkge1xyXG4gICAgICAkKHRoaXNOdW1FbGVtKS5lcShpKS50ZXh0KCcwJytudW0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCh0aGlzTnVtRWxlbSkuZXEoaSkudGV4dChudW0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KTsiLCJjb25zb2xlLmxvZygneWVwLCBpdFxcJ3Mgd29yayEnKTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gIGNvbnNvbGUubG9nKFwid29ya1wiKTtcclxuXHJcbiAgZnVuY3Rpb24gc2xpZGVyUm9vbVBhZ2UoaWQpIHtcclxuXHJcbiAgICAkKGlkKS5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIHByZXZBcnJvdzogaWQgKyAnLWJveCAucm9vbXNfX2Fycm93LS1wcmV2JyxcclxuICAgICAgbmV4dEFycm93OiBpZCArICctYm94IC5yb29tc19fYXJyb3ctLW5leHQnLFxyXG4gICAgICAvLyBmYWRlOiB0cnVlLFxyXG4gICAgICBkb3RzOiB0cnVlXHJcbiAgICB9KTtcclxuICBcclxuICB9XHJcblxyXG4gIHNsaWRlclJvb21QYWdlKFwiI3NpbmdsZVwiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNkb3VibGVcIik7XHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjZG91YmxlLXdpbmRvd1wiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNkb3VibGUtc3VwZXJcIik7XHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjZmFtaWx5XCIpO1xyXG4gIHNsaWRlclJvb21QYWdlKFwiI2RlbHV4XCIpO1xyXG5cclxuICBmdW5jdGlvbiBzbGlkZXJTaW5nbGVSb29tKGlkKSB7XHJcblxyXG4gICAgJChpZCkuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgIC8vIGZhZGU6IHRydWUsXHJcbiAgICAgIGRvdHM6IGZhbHNlXHJcbiAgICB9KTtcclxuICBcclxuICB9XHJcblxyXG4gIHNsaWRlclNpbmdsZVJvb20oXCIjcm9vbXMtc2xpZGVyXCIpO1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gc2xpZGVyQ2l0eShpZCkge1xyXG5cclxuICAgICQoaWQpLnNsaWNrKHtcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgfVxyXG5cclxuICBzbGlkZXJDaXR5KFwiI2NpdHktc2xpZGVyXCIpO1xyXG4gIHNsaWRlckNpdHkoXCIjZXhjdXJzaW9uLXNsaWRlclwiKTtcclxuICBcclxuXHJcbn0pOyJdfQ==
