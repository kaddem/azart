$(document).ready(function(){

  function anchorScroll(boxAnchorLink){
    $(boxAnchorLink + ' a').on('click', function(e){
        e.preventDefault();
        var attr = $(this).attr('href').substring(1);
        var currentPosition = $(document).scrollTop();
        var idPosition = $('#'+attr).offset().top;
        var scrollTime = Math.abs(currentPosition - idPosition) / 4; // Math.abs - модуль числа.
        $('body,html').animate({'scrollTop':idPosition-130},scrollTime);
    });
  };

  // $('.main-nav__rooms')

  var check = $(".page-header__main-nav").is(".page-header__main-nav--rooms");

  if ( check ) {
    console.log('работает проверка');
    return;
  } else {
    anchorScroll('.page-header__main-nav');
    anchorScroll('.page-footer__nav');
  }

  

});
$(document).ready(function(){

  function bNovoIndex() {

    Bnovo_Widget.init(function(){
      Bnovo_Widget.open('_bn_widget_', {
        type: "horizontal",
        lcode: "1492614572",
        layout: "demetra",
        lang: "ru",
        width: "100%",
        background: "#ffffff",
        bg_alpha: "0",
        padding: "0",
        border_radius: "4",
        font_type: "arial",
        font_color: "#333333",
        font_size: "15",
        without_title: "on",
        title_color: "#222222",
        title_size: "18",
        inp_color: "#333333",
        inp_bordhover: "#ffffff",
        inp_bordcolor: "#ffffff",
        inp_alpha: "100",
        btn_background: "#fe8205",
        btn_background_over: "#fe9934",
        btn_textcolor: "#ffffff",
        btn_textover: "#ffffff",
        btn_bordcolor: "#fe8205",
        btn_bordhover: "#fe9934",
        btn_text: "Бронировать номер",
        arrival: "Заезд",
        departure: "Выезд",
        text_concierge: "Получи скидку через Bnovo Concierge",
        // url: "http://azart-test.kademidov.com.swtest.ru/booking.html"
      });
    });

  }

  function bNovoRoom() {
    Bnovo_Widget.init(function(){
      Bnovo_Widget.open('_bn_widget_', {
        type: "vertical",
        lcode: "1492614572",
        lang: "ru",
        width: "100%",
        background: "#ffffff",
        bg_alpha: "100",
        padding: "30",
        border_radius: "4",
        font_type: "arial",
        font_color: "#333333",
        font_size: "15",
        without_title: "on",
        title_color: "#222222",
        title_size: "18",
        inp_color: "#333333",
        inp_bordhover: "#cccccc",
        inp_bordcolor: "#cccccc",
        inp_alpha: "100",
        btn_background: "#fe8205",
        btn_background_over: "#fe9934",
        btn_textcolor: "#ffffff",
        btn_textover: "#ffffff",
        btn_bordcolor: "#fe8205",
        btn_bordhover: "#fe9934",
        btn_text: "Забронировать",
        text_concierge: "Получи скидку через Bnovo Concierge",
        adults: "2"
      });
    });

    // Bnovo_Widget.init(function(){
    //   Bnovo_Widget.open('_bn_widget_', {
    //     // type: "vertical",
    //     // lcode: "1492614572",
    //     layout: "demetra",
    //     // lang: "ru",
    //     // width: "100%",
    //     background: "#ffffff",
    //     // bg_alpha: "0",
    //     // padding: "0",
    //     // border_radius: "4",
    //     // font_type: "arial",
    //     // font_color: "#333333",
    //     // font_size: "15",
    //     without_title: "on",
    //     title_color: "#222222",
    //     title_size: "18",
    //     inp_color: "#333333",
    //     inp_bordhover: "#ffffff",
    //     inp_bordcolor: "#ffffff",
    //     inp_alpha: "100",
    //     btn_background: "#fe8205",
    //     btn_background_over: "#fe9934",
    //     btn_textcolor: "#ffffff",
    //     btn_textover: "#ffffff",
    //     btn_bordcolor: "#fe8205",
    //     btn_bordhover: "#fe9934",
    //     arrival: "Заезд",
    //     departure: "Выезд",
    //     text_concierge: "Получи скидку через Bnovo Concierge",
    //     // url: "http://azart-test.kademidov.com.swtest.ru/booking.html"
    //     adults: "2"
    //   });
    // });

  }

  var indexPromo = $('.promo');

  if ( $(indexPromo).length != 0 ){
    bNovoIndex();
  } else {
    bNovoRoom();
  }

});

$(window).on('scroll', function(e) {

  if ( $(window).scrollTop() > 170 ) {
    $('.page-header').addClass('page-header--scroll');
  } else {
    $('.page-header').removeClass('page-header--scroll');
  }

});
$(document).ready(function(){

    if( $(window).width() > 768 ) {
      owlNews();
    }

    $( window ).resize(function() {
      if( $(".news__carousel").hasClass("slick-initialized") ) {
        console.log('init done');
        return;
      } else if ( $(window).width() > 768 ) {
        owlNews();
      }
    });

    function owlNews() {
      $('#news-carousel').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        // arrows: false,
        fade: true,
        dots: false,

        responsive: [
          {
            breakpoint: 768,
            settings: "unslick"
          }
        ]
      });
    }
    


});
$(window).load(function() {

  function ratioPhoto(block) {
    $(block).each(function(){
      var itemWidth = $(this).width();
      var itemHeight = $(this).height();
      var itemRatio = itemHeight / itemWidth;

      var photo = $(this).find('img');
      var photoWidth = photo.width();
      var photoHeight = photo.height();
      var photoRatio = photoHeight / photoWidth;

      if ( itemRatio < photoRatio ) {
        photo.width('100%');
        photo.height('auto');
      } else if (itemRatio > photoRatio) {
        photo.height('100%');
        photo.width('auto');
      } else {
        photo.width('100%');
        photo.height('auto');
      }
    });
  }

  function ratioLetter(block) {
    $(block).each(function(){
      var itemWidth = $(this).width();
      var itemHeight = $(this).height();
      var itemRatio = itemHeight / itemWidth;

      var photo = $(this).find('img');
      var photoWidth = photo.width();
      var photoHeight = photo.height();
      var photoRatio = photoHeight / photoWidth;

      if ( itemRatio > photoRatio ) {
        photo.width('100%');
      } else if (itemRatio < photoRatio) {
        photo.height('100%');
      } else {
        photo.width('100%');
      }
    });
  }

  ratioPhoto('.offers-content__photo-box');
  ratioPhoto('.slider__item');
  // ratioPhoto('.city__photo');
  ratioPhoto('.excursion__photo');
  
  window.addEventListener("resize", function() {

    ratioPhoto('.offers-content__photo-box');
    ratioPhoto('.slider__item');
    // ratioPhoto('.city__photo');
    ratioPhoto('.excursion__photo');

  }, false);

  // $(window).resize(function(){
    

  // });

});

console.log('yep, it\'s work!');
$(document).ready(function(){
  console.log("work");

  function sliderRoomPage(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      prevArrow: id + '-box .rooms__arrow--prev',
      nextArrow: id + '-box .rooms__arrow--next',
      // fade: true,
      dots: true
    });
  
  }

  sliderRoomPage("#single");
  sliderRoomPage("#double");
  sliderRoomPage("#double-window");
  sliderRoomPage("#double-super");
  sliderRoomPage("#family");
  sliderRoomPage("#delux");

  function sliderSingleRoom(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: true,
      // fade: true,
      dots: false
    });
  
  }

  sliderSingleRoom("#rooms-slider");


  function sliderCity(id) {

    $(id).slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      dots: true,
      centerMode: true,
      focusOnSelect: true
    });
  
  }

  sliderCity("#city-slider");
  sliderCity("#excursion-slider");
  

});
// $(document).ready(function(){

// var WuBook= new _WuBook(1492614572);
//   var wbparams= {
//         lang: 'ru',
//         layout: '',
//         width: 1140,
//         height: 'auto',
//         mobile: 1,
//         mheight: 640
//   };
//   WuBook.design_iframe("_wbord_", wbparams);

// });
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuY2hvci5qcyIsImJub3ZvLmpzIiwiaGVhZGVyLXNjcm9sbC5qcyIsIm5ld3Mtc2xpY2suanMiLCJyYXRpby1waG90by5qcyIsInJvb21zLXNsaWNrLmpzIiwic2NyaXB0LmpzIiwic2xpY2stc2xpZGVyLmpzIiwid3Vib29rLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsRUE7QUNBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcbiAgZnVuY3Rpb24gYW5jaG9yU2Nyb2xsKGJveEFuY2hvckxpbmspe1xyXG4gICAgJChib3hBbmNob3JMaW5rICsgJyBhJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBhdHRyID0gJCh0aGlzKS5hdHRyKCdocmVmJykuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICB2YXIgaWRQb3NpdGlvbiA9ICQoJyMnK2F0dHIpLm9mZnNldCgpLnRvcDtcclxuICAgICAgICB2YXIgc2Nyb2xsVGltZSA9IE1hdGguYWJzKGN1cnJlbnRQb3NpdGlvbiAtIGlkUG9zaXRpb24pIC8gNDsgLy8gTWF0aC5hYnMgLSDQvNC+0LTRg9C70Ywg0YfQuNGB0LvQsC5cclxuICAgICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsnc2Nyb2xsVG9wJzppZFBvc2l0aW9uLTEzMH0sc2Nyb2xsVGltZSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyAkKCcubWFpbi1uYXZfX3Jvb21zJylcclxuXHJcbiAgdmFyIGNoZWNrID0gJChcIi5wYWdlLWhlYWRlcl9fbWFpbi1uYXZcIikuaXMoXCIucGFnZS1oZWFkZXJfX21haW4tbmF2LS1yb29tc1wiKTtcclxuXHJcbiAgaWYgKCBjaGVjayApIHtcclxuICAgIGNvbnNvbGUubG9nKCfRgNCw0LHQvtGC0LDQtdGCINC/0YDQvtCy0LXRgNC60LAnKTtcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgYW5jaG9yU2Nyb2xsKCcucGFnZS1oZWFkZXJfX21haW4tbmF2Jyk7XHJcbiAgICBhbmNob3JTY3JvbGwoJy5wYWdlLWZvb3Rlcl9fbmF2Jyk7XHJcbiAgfVxyXG5cclxuICBcclxuXHJcbn0pOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblxyXG4gIGZ1bmN0aW9uIGJOb3ZvSW5kZXgoKSB7XHJcblxyXG4gICAgQm5vdm9fV2lkZ2V0LmluaXQoZnVuY3Rpb24oKXtcclxuICAgICAgQm5vdm9fV2lkZ2V0Lm9wZW4oJ19ibl93aWRnZXRfJywge1xyXG4gICAgICAgIHR5cGU6IFwiaG9yaXpvbnRhbFwiLFxyXG4gICAgICAgIGxjb2RlOiBcIjE0OTI2MTQ1NzJcIixcclxuICAgICAgICBsYXlvdXQ6IFwiZGVtZXRyYVwiLFxyXG4gICAgICAgIGxhbmc6IFwicnVcIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYmdfYWxwaGE6IFwiMFwiLFxyXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiLFxyXG4gICAgICAgIGJvcmRlcl9yYWRpdXM6IFwiNFwiLFxyXG4gICAgICAgIGZvbnRfdHlwZTogXCJhcmlhbFwiLFxyXG4gICAgICAgIGZvbnRfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGZvbnRfc2l6ZTogXCIxNVwiLFxyXG4gICAgICAgIHdpdGhvdXRfdGl0bGU6IFwib25cIixcclxuICAgICAgICB0aXRsZV9jb2xvcjogXCIjMjIyMjIyXCIsXHJcbiAgICAgICAgdGl0bGVfc2l6ZTogXCIxOFwiLFxyXG4gICAgICAgIGlucF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAgICAgaW5wX2JvcmRob3ZlcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgaW5wX2JvcmRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgaW5wX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgICAgIGJ0bl9iYWNrZ3JvdW5kOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZF9vdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fdGV4dG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJ0bl9ib3JkY29sb3I6IFwiI2ZlODIwNVwiLFxyXG4gICAgICAgIGJ0bl9ib3JkaG92ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgICAgIGJ0bl90ZXh0OiBcItCR0YDQvtC90LjRgNC+0LLQsNGC0Ywg0L3QvtC80LXRgFwiLFxyXG4gICAgICAgIGFycml2YWw6IFwi0JfQsNC10LfQtFwiLFxyXG4gICAgICAgIGRlcGFydHVyZTogXCLQktGL0LXQt9C0XCIsXHJcbiAgICAgICAgdGV4dF9jb25jaWVyZ2U6IFwi0J/QvtC70YPRh9C4INGB0LrQuNC00LrRgyDRh9C10YDQtdC3IEJub3ZvIENvbmNpZXJnZVwiLFxyXG4gICAgICAgIC8vIHVybDogXCJodHRwOi8vYXphcnQtdGVzdC5rYWRlbWlkb3YuY29tLnN3dGVzdC5ydS9ib29raW5nLmh0bWxcIlxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJOb3ZvUm9vbSgpIHtcclxuICAgIEJub3ZvX1dpZGdldC5pbml0KGZ1bmN0aW9uKCl7XHJcbiAgICAgIEJub3ZvX1dpZGdldC5vcGVuKCdfYm5fd2lkZ2V0XycsIHtcclxuICAgICAgICB0eXBlOiBcInZlcnRpY2FsXCIsXHJcbiAgICAgICAgbGNvZGU6IFwiMTQ5MjYxNDU3MlwiLFxyXG4gICAgICAgIGxhbmc6IFwicnVcIixcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgYmdfYWxwaGE6IFwiMTAwXCIsXHJcbiAgICAgICAgcGFkZGluZzogXCIzMFwiLFxyXG4gICAgICAgIGJvcmRlcl9yYWRpdXM6IFwiNFwiLFxyXG4gICAgICAgIGZvbnRfdHlwZTogXCJhcmlhbFwiLFxyXG4gICAgICAgIGZvbnRfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgIGZvbnRfc2l6ZTogXCIxNVwiLFxyXG4gICAgICAgIHdpdGhvdXRfdGl0bGU6IFwib25cIixcclxuICAgICAgICB0aXRsZV9jb2xvcjogXCIjMjIyMjIyXCIsXHJcbiAgICAgICAgdGl0bGVfc2l6ZTogXCIxOFwiLFxyXG4gICAgICAgIGlucF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAgICAgaW5wX2JvcmRob3ZlcjogXCIjY2NjY2NjXCIsXHJcbiAgICAgICAgaW5wX2JvcmRjb2xvcjogXCIjY2NjY2NjXCIsXHJcbiAgICAgICAgaW5wX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgICAgIGJ0bl9iYWNrZ3JvdW5kOiBcIiNmZTgyMDVcIixcclxuICAgICAgICBidG5fYmFja2dyb3VuZF9vdmVyOiBcIiNmZTk5MzRcIixcclxuICAgICAgICBidG5fdGV4dGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBidG5fdGV4dG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIGJ0bl9ib3JkY29sb3I6IFwiI2ZlODIwNVwiLFxyXG4gICAgICAgIGJ0bl9ib3JkaG92ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgICAgIGJ0bl90ZXh0OiBcItCX0LDQsdGA0L7QvdC40YDQvtCy0LDRgtGMXCIsXHJcbiAgICAgICAgdGV4dF9jb25jaWVyZ2U6IFwi0J/QvtC70YPRh9C4INGB0LrQuNC00LrRgyDRh9C10YDQtdC3IEJub3ZvIENvbmNpZXJnZVwiLFxyXG4gICAgICAgIGFkdWx0czogXCIyXCJcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBCbm92b19XaWRnZXQuaW5pdChmdW5jdGlvbigpe1xyXG4gICAgLy8gICBCbm92b19XaWRnZXQub3BlbignX2JuX3dpZGdldF8nLCB7XHJcbiAgICAvLyAgICAgLy8gdHlwZTogXCJ2ZXJ0aWNhbFwiLFxyXG4gICAgLy8gICAgIC8vIGxjb2RlOiBcIjE0OTI2MTQ1NzJcIixcclxuICAgIC8vICAgICBsYXlvdXQ6IFwiZGVtZXRyYVwiLFxyXG4gICAgLy8gICAgIC8vIGxhbmc6IFwicnVcIixcclxuICAgIC8vICAgICAvLyB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAvLyAgICAgYmFja2dyb3VuZDogXCIjZmZmZmZmXCIsXHJcbiAgICAvLyAgICAgLy8gYmdfYWxwaGE6IFwiMFwiLFxyXG4gICAgLy8gICAgIC8vIHBhZGRpbmc6IFwiMFwiLFxyXG4gICAgLy8gICAgIC8vIGJvcmRlcl9yYWRpdXM6IFwiNFwiLFxyXG4gICAgLy8gICAgIC8vIGZvbnRfdHlwZTogXCJhcmlhbFwiLFxyXG4gICAgLy8gICAgIC8vIGZvbnRfY29sb3I6IFwiIzMzMzMzM1wiLFxyXG4gICAgLy8gICAgIC8vIGZvbnRfc2l6ZTogXCIxNVwiLFxyXG4gICAgLy8gICAgIHdpdGhvdXRfdGl0bGU6IFwib25cIixcclxuICAgIC8vICAgICB0aXRsZV9jb2xvcjogXCIjMjIyMjIyXCIsXHJcbiAgICAvLyAgICAgdGl0bGVfc2l6ZTogXCIxOFwiLFxyXG4gICAgLy8gICAgIGlucF9jb2xvcjogXCIjMzMzMzMzXCIsXHJcbiAgICAvLyAgICAgaW5wX2JvcmRob3ZlcjogXCIjZmZmZmZmXCIsXHJcbiAgICAvLyAgICAgaW5wX2JvcmRjb2xvcjogXCIjZmZmZmZmXCIsXHJcbiAgICAvLyAgICAgaW5wX2FscGhhOiBcIjEwMFwiLFxyXG4gICAgLy8gICAgIGJ0bl9iYWNrZ3JvdW5kOiBcIiNmZTgyMDVcIixcclxuICAgIC8vICAgICBidG5fYmFja2dyb3VuZF9vdmVyOiBcIiNmZTk5MzRcIixcclxuICAgIC8vICAgICBidG5fdGV4dGNvbG9yOiBcIiNmZmZmZmZcIixcclxuICAgIC8vICAgICBidG5fdGV4dG92ZXI6IFwiI2ZmZmZmZlwiLFxyXG4gICAgLy8gICAgIGJ0bl9ib3JkY29sb3I6IFwiI2ZlODIwNVwiLFxyXG4gICAgLy8gICAgIGJ0bl9ib3JkaG92ZXI6IFwiI2ZlOTkzNFwiLFxyXG4gICAgLy8gICAgIGFycml2YWw6IFwi0JfQsNC10LfQtFwiLFxyXG4gICAgLy8gICAgIGRlcGFydHVyZTogXCLQktGL0LXQt9C0XCIsXHJcbiAgICAvLyAgICAgdGV4dF9jb25jaWVyZ2U6IFwi0J/QvtC70YPRh9C4INGB0LrQuNC00LrRgyDRh9C10YDQtdC3IEJub3ZvIENvbmNpZXJnZVwiLFxyXG4gICAgLy8gICAgIC8vIHVybDogXCJodHRwOi8vYXphcnQtdGVzdC5rYWRlbWlkb3YuY29tLnN3dGVzdC5ydS9ib29raW5nLmh0bWxcIlxyXG4gICAgLy8gICAgIGFkdWx0czogXCIyXCJcclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgfVxyXG5cclxuICB2YXIgaW5kZXhQcm9tbyA9ICQoJy5wcm9tbycpO1xyXG5cclxuICBpZiAoICQoaW5kZXhQcm9tbykubGVuZ3RoICE9IDAgKXtcclxuICAgIGJOb3ZvSW5kZXgoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYk5vdm9Sb29tKCk7XHJcbiAgfVxyXG5cclxufSk7XHJcbiIsIiQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oZSkge1xyXG5cclxuICBpZiAoICQod2luZG93KS5zY3JvbGxUb3AoKSA+IDE3MCApIHtcclxuICAgICQoJy5wYWdlLWhlYWRlcicpLmFkZENsYXNzKCdwYWdlLWhlYWRlci0tc2Nyb2xsJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJy5wYWdlLWhlYWRlcicpLnJlbW92ZUNsYXNzKCdwYWdlLWhlYWRlci0tc2Nyb2xsJyk7XHJcbiAgfVxyXG5cclxufSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcbiAgICBpZiggJCh3aW5kb3cpLndpZHRoKCkgPiA3NjggKSB7XHJcbiAgICAgIG93bE5ld3MoKTtcclxuICAgIH1cclxuXHJcbiAgICAkKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmKCAkKFwiLm5ld3NfX2Nhcm91c2VsXCIpLmhhc0NsYXNzKFwic2xpY2staW5pdGlhbGl6ZWRcIikgKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2luaXQgZG9uZScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSBlbHNlIGlmICggJCh3aW5kb3cpLndpZHRoKCkgPiA3NjggKSB7XHJcbiAgICAgICAgb3dsTmV3cygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvd2xOZXdzKCkge1xyXG4gICAgICAkKCcjbmV3cy1jYXJvdXNlbCcpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgLy8gYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICAgIGRvdHM6IGZhbHNlLFxyXG5cclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IFwidW5zbGlja1wiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbn0pOyIsIiQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCkge1xyXG5cclxuICBmdW5jdGlvbiByYXRpb1Bob3RvKGJsb2NrKSB7XHJcbiAgICAkKGJsb2NrKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpdGVtV2lkdGggPSAkKHRoaXMpLndpZHRoKCk7XHJcbiAgICAgIHZhciBpdGVtSGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKTtcclxuICAgICAgdmFyIGl0ZW1SYXRpbyA9IGl0ZW1IZWlnaHQgLyBpdGVtV2lkdGg7XHJcblxyXG4gICAgICB2YXIgcGhvdG8gPSAkKHRoaXMpLmZpbmQoJ2ltZycpO1xyXG4gICAgICB2YXIgcGhvdG9XaWR0aCA9IHBob3RvLndpZHRoKCk7XHJcbiAgICAgIHZhciBwaG90b0hlaWdodCA9IHBob3RvLmhlaWdodCgpO1xyXG4gICAgICB2YXIgcGhvdG9SYXRpbyA9IHBob3RvSGVpZ2h0IC8gcGhvdG9XaWR0aDtcclxuXHJcbiAgICAgIGlmICggaXRlbVJhdGlvIDwgcGhvdG9SYXRpbyApIHtcclxuICAgICAgICBwaG90by53aWR0aCgnMTAwJScpO1xyXG4gICAgICAgIHBob3RvLmhlaWdodCgnYXV0bycpO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW1SYXRpbyA+IHBob3RvUmF0aW8pIHtcclxuICAgICAgICBwaG90by5oZWlnaHQoJzEwMCUnKTtcclxuICAgICAgICBwaG90by53aWR0aCgnYXV0bycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBob3RvLndpZHRoKCcxMDAlJyk7XHJcbiAgICAgICAgcGhvdG8uaGVpZ2h0KCdhdXRvJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmF0aW9MZXR0ZXIoYmxvY2spIHtcclxuICAgICQoYmxvY2spLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIGl0ZW1XaWR0aCA9ICQodGhpcykud2lkdGgoKTtcclxuICAgICAgdmFyIGl0ZW1IZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpO1xyXG4gICAgICB2YXIgaXRlbVJhdGlvID0gaXRlbUhlaWdodCAvIGl0ZW1XaWR0aDtcclxuXHJcbiAgICAgIHZhciBwaG90byA9ICQodGhpcykuZmluZCgnaW1nJyk7XHJcbiAgICAgIHZhciBwaG90b1dpZHRoID0gcGhvdG8ud2lkdGgoKTtcclxuICAgICAgdmFyIHBob3RvSGVpZ2h0ID0gcGhvdG8uaGVpZ2h0KCk7XHJcbiAgICAgIHZhciBwaG90b1JhdGlvID0gcGhvdG9IZWlnaHQgLyBwaG90b1dpZHRoO1xyXG5cclxuICAgICAgaWYgKCBpdGVtUmF0aW8gPiBwaG90b1JhdGlvICkge1xyXG4gICAgICAgIHBob3RvLndpZHRoKCcxMDAlJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbVJhdGlvIDwgcGhvdG9SYXRpbykge1xyXG4gICAgICAgIHBob3RvLmhlaWdodCgnMTAwJScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBob3RvLndpZHRoKCcxMDAlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmF0aW9QaG90bygnLm9mZmVycy1jb250ZW50X19waG90by1ib3gnKTtcclxuICByYXRpb1Bob3RvKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgLy8gcmF0aW9QaG90bygnLmNpdHlfX3Bob3RvJyk7XHJcbiAgcmF0aW9QaG90bygnLmV4Y3Vyc2lvbl9fcGhvdG8nKTtcclxuICBcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICByYXRpb1Bob3RvKCcub2ZmZXJzLWNvbnRlbnRfX3Bob3RvLWJveCcpO1xyXG4gICAgcmF0aW9QaG90bygnLnNsaWRlcl9faXRlbScpO1xyXG4gICAgLy8gcmF0aW9QaG90bygnLmNpdHlfX3Bob3RvJyk7XHJcbiAgICByYXRpb1Bob3RvKCcuZXhjdXJzaW9uX19waG90bycpO1xyXG5cclxuICB9LCBmYWxzZSk7XHJcblxyXG4gIC8vICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcclxuICAgIFxyXG5cclxuICAvLyB9KTtcclxuXHJcbn0pOyIsIiIsImNvbnNvbGUubG9nKCd5ZXAsIGl0XFwncyB3b3JrIScpOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgY29uc29sZS5sb2coXCJ3b3JrXCIpO1xyXG5cclxuICBmdW5jdGlvbiBzbGlkZXJSb29tUGFnZShpZCkge1xyXG5cclxuICAgICQoaWQpLnNsaWNrKHtcclxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgcHJldkFycm93OiBpZCArICctYm94IC5yb29tc19fYXJyb3ctLXByZXYnLFxyXG4gICAgICBuZXh0QXJyb3c6IGlkICsgJy1ib3ggLnJvb21zX19hcnJvdy0tbmV4dCcsXHJcbiAgICAgIC8vIGZhZGU6IHRydWUsXHJcbiAgICAgIGRvdHM6IHRydWVcclxuICAgIH0pO1xyXG4gIFxyXG4gIH1cclxuXHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjc2luZ2xlXCIpO1xyXG4gIHNsaWRlclJvb21QYWdlKFwiI2RvdWJsZVwiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNkb3VibGUtd2luZG93XCIpO1xyXG4gIHNsaWRlclJvb21QYWdlKFwiI2RvdWJsZS1zdXBlclwiKTtcclxuICBzbGlkZXJSb29tUGFnZShcIiNmYW1pbHlcIik7XHJcbiAgc2xpZGVyUm9vbVBhZ2UoXCIjZGVsdXhcIik7XHJcblxyXG4gIGZ1bmN0aW9uIHNsaWRlclNpbmdsZVJvb20oaWQpIHtcclxuXHJcbiAgICAkKGlkKS5zbGljayh7XHJcbiAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgLy8gZmFkZTogdHJ1ZSxcclxuICAgICAgZG90czogZmFsc2VcclxuICAgIH0pO1xyXG4gIFxyXG4gIH1cclxuXHJcbiAgc2xpZGVyU2luZ2xlUm9vbShcIiNyb29tcy1zbGlkZXJcIik7XHJcblxyXG5cclxuICBmdW5jdGlvbiBzbGlkZXJDaXR5KGlkKSB7XHJcblxyXG4gICAgJChpZCkuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICBmb2N1c09uU2VsZWN0OiB0cnVlXHJcbiAgICB9KTtcclxuICBcclxuICB9XHJcblxyXG4gIHNsaWRlckNpdHkoXCIjY2l0eS1zbGlkZXJcIik7XHJcbiAgc2xpZGVyQ2l0eShcIiNleGN1cnNpb24tc2xpZGVyXCIpO1xyXG4gIFxyXG5cclxufSk7IiwiLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcbi8vIHZhciBXdUJvb2s9IG5ldyBfV3VCb29rKDE0OTI2MTQ1NzIpO1xyXG4vLyAgIHZhciB3YnBhcmFtcz0ge1xyXG4vLyAgICAgICAgIGxhbmc6ICdydScsXHJcbi8vICAgICAgICAgbGF5b3V0OiAnJyxcclxuLy8gICAgICAgICB3aWR0aDogMTE0MCxcclxuLy8gICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcclxuLy8gICAgICAgICBtb2JpbGU6IDEsXHJcbi8vICAgICAgICAgbWhlaWdodDogNjQwXHJcbi8vICAgfTtcclxuLy8gICBXdUJvb2suZGVzaWduX2lmcmFtZShcIl93Ym9yZF9cIiwgd2JwYXJhbXMpO1xyXG5cclxuLy8gfSk7Il19
